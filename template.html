<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Sound Stories collaborates on music commissions, produces podcasts, writes bespoke songs, and offers professional studio facilities. Contact us."/>

  <title>SoundStories | Bespoke Music & Sound | {page}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@300&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://player.vimeo.com/api/player.js"></script>

</head>
<body class="body_{page}">
  
  <!-- Navigation Bar -->
  <nav class="navbar">

      <div id="navbar-logo" >
        <a href="index.html"><img src="img/white_logo.svg" alt="Sound Stories Logo"></a>
      </div>
      <div id="navbar-button" >
        <a class="navbar-show-menu" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainMenu" aria-controls="mainMenu">
          <span class="navbar-toggler-icon"></span>
        </a>
      </div>
   
  </nav>

  <!-- Popup Menu -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="mainMenu" aria-labelledby="mainMenuLabel">

    <div class="offcanvas-body">

      <button type="button" class="btn-close close-white" aria-label="Close" data-bs-dismiss="offcanvas" ></button>

      <div id="navItems">      
      </div>

    </div>
  </div>

<div id="container_top">
  <div class="row g-0 align-items-center flex-column flex-md-row">

    <!-- Image for small screens (centered on top) -->
    <div class="col-12 d-block d-md-none text-center mb-3 title">
      <span>{page}</span>
    </div>

    <!-- Text content: full width on small, 50% on md+ -->
    <div id="content_top" class="col-12 col-md-6 text-center text-md-start mb-3 mb-md-0">
      <!-- Your content goes here -->
    </div>

    <!-- Image for large screens (right side) -->
    <div class="col-12 col-md-6 d-none d-md-flex title titleRight justify-content-md-end">
      <span>{page}</span>
    </div>

  </div>
</div>

<div id="container_split">

  <div id="content_split"></div>

  <div id="animation_split">
    <img src="img/animations/{page}.gif" alt="{page} animation">
  </div>

</div>

<div id="container_large" class="container-fluid">

  <div  id="content_large">
  </div>

</div>

<script>

  /*ensure modals with iframes reset (stop video) when closed*/

  document.addEventListener('DOMContentLoaded', () => {
    // Find any modal div with id ending in "popup" or "PopUp", etc.
    const modals = document.querySelectorAll('div[id$="popup" i]');

    modals.forEach(modal => {
      modal.addEventListener('hidden.bs.modal', () => {
        // Reset all iframes inside this modal
        modal.querySelectorAll('iframe').forEach(iframe => {
          const src = iframe.getAttribute('src');
          if (src) iframe.setAttribute('src', src); // reloads iframe â†’ stops video
        });
      });
    });
  });
  
</script>

</body>
</html>
